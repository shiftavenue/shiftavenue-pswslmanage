---
name: pswslmanage
on: push
jobs:
  pwslmanage:
    name: pswslmanage
    runs-on: [self-hosted]
    steps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          path: repo_pswslmanage
      
      - name: Run powershell linter again valid module files
        run: |
          if(Invoke-ScriptAnalyzer "${{ github.workspace }}\pswslmanage.psm1") { exit 1}
          if(Invoke-ScriptAnalyzer "${{ github.workspace }}\pswslmanage-roles.ps1") { exit 1}
          if(Invoke-ScriptAnalyzer "${{ github.workspace }}\pswslmanage-helper.ps1") { exit 1}
        
